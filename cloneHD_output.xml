<tool id="cloneHD_output" name="cloneHD - Tool Output Prep" version="0.1.0">
  <stdio>
    <exit_code range="1:" />
  </stdio>
  <requirements>
    <container type="docker">clonehd:smchet</container>
  </requirements>
  <command>
    <![CDATA[
    perl /opt/cloneHD-tools/clonehd/convert_to_smchet_format.pl 
    -i ${assignment_probability} 
    -o sample
    ]]>
  </command>
  <inputs>
	<param name="assignment_probability" type="data" optional="false" help="Assignment probability" label="Assignment probability"/>
  </inputs>
  <outputs>
        <data format="txt" name="cellularity" label="Cellularity (Sub Challenge 1A)" from_work_dir="sample.1A.txt"/>
        <data format="txt" name="no_clusters" label="Number Clusters (Sub Challenge 1B)" from_work_dir="sample.1B.txt"/>
        <data format="txt" name="proportions" label="Cluster Proportions (Sub Challenge 1C)" from_work_dir="sample.1C.txt"/>
        <data format="txt" name="assignments" label="Cluster Assignments (Sub Challenge 2A)" from_work_dir="sample.2A.txt"/>
        <data format="binary" name="co_clustering" label="Co-Cluster (Sub Challenge 2B)" from_work_dir="sample.2B.txt.gz"/>
  </outputs>
  <help>
	  Create SMC-Het output from cloneHD/filterHD results.
  </help>
</tool>
