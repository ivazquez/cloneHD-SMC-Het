<tool id="cloneHD_output" name="cloneHD - Tool Output Prep" version="0.1.0">
  <stdio>
    <exit_code range="1:" />
  </stdio>
  <requirements>
    <container type="docker">clonehd:smchet</container>
  </requirements>
  <command>
<![CDATA[
python /opt/cloneHD-tools/clonehd/snv_parser.py
-i ${Nc1_model}
-j ${Nc2_model}
-k ${Nc3_model}
-o out
perl /opt/cloneHD-tools/clonehd/convert_to_smchet_format.pl
-i out_assignment_probability_table.txt
-o out
]]>
  </command>
  <inputs>
        <param name="Nc1_model" type="data" format="tabular" optional="false" help="Nc=1 model"/>
        <param name="Nc2_model" type="data" format="tabular" optional="false" help="Nc=2 model"/>
        <param name="Nc3_model" type="data" format="tabular" optional="false" help="Nc=3 model"/>
  </inputs>
  <outputs>
        <data format="txt" name="cellularity" label="Cellularity (Sub Challenge 1A)" from_work_dir="subchallenge1A.txt"/>
        <data format="txt" name="no_clusters" label="Number Clusters (Sub Challenge 1B)" from_work_dir="subchallenge1B.txt"/>
        <data format="txt" name="proportions" label="Cluster Proportions (Sub Challenge 1C)" from_work_dir="subchallenge1C.txt"/>
        <data format="txt" name="assignments" label="Cluster Assignments (Sub Challenge 2A)" from_work_dir="subchallenge2A.txt"/>
        <data format="txt" name="co_clustering" label="Co-Cluster (Sub Challenge 2B)" from_work_dir="subchallenge2B.txt"/>
  </outputs>
  <help>
	  Create SMC-Het output from cloneHD/filterHD results.
  </help>
</tool>
